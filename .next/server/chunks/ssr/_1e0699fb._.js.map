{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/air-quality-service.ts"],"sourcesContent":["\n'use server';\n\nexport interface AqiData {\n    uaqi: number;\n    category: string;\n    dominantPollutant: string;\n}\n\nexport async function lookupAirQuality(\n  latitude: number,\n  longitude: number\n): Promise<{ success: boolean; data?: AqiData, error?: string; }> {\n  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;\n  if (!apiKey) {\n    return { success: false, error: \"Google Maps API key is not configured on the server.\" };\n  }\n  \n  const url = 'https://airquality.googleapis.com/v1/currentConditions:lookup';\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'X-Goog-Api-Key': apiKey,\n  };\n  \n  const body = JSON.stringify({\n    location: {\n      latitude,\n      longitude\n    },\n    extraComputations: [\"HEALTH_RECOMMENDATIONS\", \"POLLUTANT_ADDITIONAL_INFO\"],\n  });\n\n  try {\n    const response = await fetch(url, { method: 'POST', headers, body });\n    const data = await response.json();\n\n    if (data.error || !data.indexes) {\n      return { success: false, error: `Air Quality API error: ${data.error?.message || 'No data returned'}` };\n    }\n    \n    // Find the Universal AQI\n    const uaqiData = data.indexes.find((idx: any) => idx.code === 'uaqi');\n    \n    if (!uaqiData) {\n        return { success: false, error: 'Universal AQI data not found in response.' };\n    }\n\n    const result: AqiData = {\n        uaqi: uaqiData.aqi,\n        category: uaqiData.category,\n        dominantPollutant: uaqiData.dominantPollutant,\n    };\n    \n    return { success: true, data: result };\n  } catch (e) {\n    console.error(\"Error fetching Air Quality data:\", e);\n    return { success: false, error: 'An unknown error occurred while fetching Air Quality data.' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AASO,eAAe,iBACpB,QAAgB,EAChB,SAAiB;IAEjB,MAAM;IACN,uCAAa;;IAEb;IAEA,MAAM,MAAM;IAEZ,MAAM,UAAU;QACd,gBAAgB;QAChB,kBAAkB;IACpB;IAEA,MAAM,OAAO,KAAK,SAAS,CAAC;QAC1B,UAAU;YACR;YACA;QACF;QACA,mBAAmB;YAAC;YAA0B;SAA4B;IAC5E;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,KAAK;YAAE,QAAQ;YAAQ;YAAS;QAAK;QAClE,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,OAAO,EAAE;YAC/B,OAAO;gBAAE,SAAS;gBAAO,OAAO,CAAC,uBAAuB,EAAE,KAAK,KAAK,EAAE,WAAW,oBAAoB;YAAC;QACxG;QAEA,yBAAyB;QACzB,MAAM,WAAW,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC,MAAa,IAAI,IAAI,KAAK;QAE9D,IAAI,CAAC,UAAU;YACX,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAA4C;QAChF;QAEA,MAAM,SAAkB;YACpB,MAAM,SAAS,GAAG;YAClB,UAAU,SAAS,QAAQ;YAC3B,mBAAmB,SAAS,iBAAiB;QACjD;QAEA,OAAO;YAAE,SAAS;YAAM,MAAM;QAAO;IACvC,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;YAAE,SAAS;YAAO,OAAO;QAA6D;IAC/F;AACF;;;IAlDsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/air-quality/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {lookupAirQuality as '605cbf05e86f322eb27252f0ea04058a36f7906985'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/air-quality/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/air-quality/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/air-quality/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/air-quality/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/air-quality/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/air-quality/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}